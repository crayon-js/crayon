"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.styles=exports.functions=exports.attributes=exports.fourBitColors=exports.colorKeywords=exports.colorSupport=void 0;const conversions_1=require("./conversions"),support_1=require("./support"),util_1=require("./util");exports.colorSupport=new Proxy(support_1.getColorSupport(),{}),exports.colorKeywords={aliceBlue:"[38;2;240;248;255m",antiqueWhite:"[38;2;250;235;215m",aqua:"[38;2;0;255;255m",aquamarine:"[38;2;127;255;212m",azure:"[38;2;240;255;255m",beige:"[38;2;245;245;220m",bisque:"[38;2;255;228;196m",blanchedalMond:"[38;2;255;235;205m",blueViolet:"[38;2;138;43;226m",brown:"[38;2;165;42;42m",burlyWood:"[38;2;222;184;135m",cadetBlue:"[38;2;95;158;160m",chartreuse:"[38;2;127;255;0m",chocolate:"[38;2;210;105;30m",coral:"[38;2;255;127;80m",cornFlowerBlue:"[38;2;100;149;237m",cornsilk:"[38;2;255;248;220m",crimson:"[38;2;220;20;60m",darkBlue:"[38;2;0;0;139m",darkCyan:"[38;2;0;139;139m",darkGoldenRod:"[38;2;184;134;11m",darkGreen:"[38;2;0;100;0m",darkGray:"[38;2;169;169;169m",darkGrey:"[38;2;169;169;169m",darkKhaki:"[38;2;189;183;107m",darkMagenta:"[38;2;139;0;139m",darkOliveGreen:"[38;2;85;107;47m",darkOrange:"[38;2;255;140;0m",darkOrchid:"[38;2;153;50;204m",darkRed:"[38;2;139;0;0m",darkSalmon:"[38;2;233;150;122m",darkSeaGreen:"[38;2;143;188;143m",darkSlateBlue:"[38;2;72;61;139m",darkSlateGray:"[38;2;47;79;79m",darkSlateGrey:"[38;2;47;79;79m",darkTurquoise:"[38;2;0;206;209m",darkViolet:"[38;2;148;0;211m",deepPink:"[38;2;255;20;147m",deepSkyBlue:"[38;2;0;191;255m",dimGray:"[38;2;105;105;105m",dimGrey:"[38;2;105;105;105m",dodgerBlue:"[38;2;30;144;255m",fireBrick:"[38;2;178;34;34m",floralWhite:"[38;2;255;250;240m",forestGreen:"[38;2;34;139;34m",fuchsia:"[38;2;255;0;255m",gainsboro:"[38;2;220;220;220m",ghostWhite:"[38;2;248;248;255m",goldenRod:"[38;2;218;165;32m",gold:"[38;2;255;215;0m",gray:"[38;2;128;128;128m",greenYellow:"[38;2;173;255;47m",grey:"[38;2;128;128;128m",honeyDew:"[38;2;240;255;240m",hotPink:"[38;2;255;105;180m",indianRed:"[38;2;205;92;92m",indigo:"[38;2;75;0;130m",ivory:"[38;2;255;255;240m",khaki:"[38;2;240;230;140m",lavenderBlush:"[38;2;255;240;245m",lavender:"[38;2;230;230;250m",lawnGreen:"[38;2;124;252;0m",lemonChiffon:"[38;2;255;250;205m",lightCoral:"[38;2;240;128;128m",lightGoldenRodYellow:"[38;2;250;250;210m",lightGray:"[38;2;211;211;211m",lightGrey:"[38;2;211;211;211m",lightPink:"[38;2;255;182;193m",lightSalmon:"[38;2;255;160;122m",lightSeaGreen:"[38;2;32;178;170m",lightSkyBlue:"[38;2;135;206;250m",lightSlateGray:"[38;2;119;136;153m",lightSlateGrey:"[38;2;119;136;153m",lightSteelBlue:"[38;2;176;196;222m",lime:"[38;2;0;255;0m",limeGreen:"[38;2;50;205;50m",linen:"[38;2;250;240;230m",maroon:"[38;2;128;0;0m",mediumAquamarine:"[38;2;102;205;170m",mediumBlue:"[38;2;0;0;205m",mediumOrchid:"[38;2;186;85;211m",mediumPurple:"[38;2;147;112;219m",mediumSeaGreen:"[38;2;60;179;113m",mediumSlateBlue:"[38;2;123;104;238m",mediumSpringGreen:"[38;2;0;250;154m",mediumTurquoise:"[38;2;72;209;204m",mediumVioletRed:"[38;2;199;21;133m",midnightBlue:"[38;2;25;25;112m",mintCream:"[38;2;245;255;250m",mistyrose:"[38;2;255;228;225m",moccasin:"[38;2;255;228;181m",navajoWhite:"[38;2;255;222;173m",navy:"[38;2;0;0;128m",oldLace:"[38;2;253;245;230m",olive:"[38;2;128;128;0m",olivedRab:"[38;2;107;142;35m",orange:"[38;2;255;165;0m",orangeRed:"[38;2;255;69;0m",orchid:"[38;2;218;112;214m",paleGoldenRod:"[38;2;238;232;170m",paleGreen:"[38;2;152;251;152m",paleTurquoise:"[38;2;175;238;238m",paleVioletRed:"[38;2;219;112;147m",papayaWhip:"[38;2;255;239;213m",peachPuff:"[38;2;255;218;185m",peru:"[38;2;205;133;63m",pink:"[38;2;255;192;203m",plum:"[38;2;221;160;221m",powderBlue:"[38;2;176;224;230m",purple:"[38;2;128;0;128m",rebeccaPurple:"[38;2;102;51;153m",rosyBrown:"[38;2;188;143;143m",royalBlue:"[38;2;65;105;225m",saddleBrown:"[38;2;139;69;19m",salmon:"[38;2;250;128;114m",sandyBrown:"[38;2;244;164;96m",seaGreen:"[38;2;46;139;87m",seaShell:"[38;2;255;245;238m",sienna:"[38;2;160;82;45m",silver:"[38;2;192;192;192m",skyBlue:"[38;2;135;206;235m",slateBlue:"[38;2;106;90;205m",slateGray:"[38;2;112;128;144m",slateGrey:"[38;2;112;128;144m",snow:"[38;2;255;250;250m",springGreen:"[38;2;0;255;127m",steelBlue:"[38;2;70;130;180m",tan:"[38;2;210;180;140m",teal:"[38;2;0;128;128m",thistle:"[38;2;216;191;216m",tomato:"[38;2;255;99;71m",turquoise:"[38;2;64;224;208m",violet:"[38;2;238;130;238m",wheat:"[38;2;245;222;179m",whiteSmoke:"[38;2;245;245;245m",yellowGreen:"[38;2;154;205;50m"};for(const a in exports.colorKeywords){const b=exports.colorKeywords[a],c=/\[38/.exec(b);if(c){const d=a[0].toUpperCase()+a.slice(1),e=c[0];Reflect.set(exports.colorKeywords,`bg${d}`,b.replace(e,`[${parseInt(e.replace("[",""))+10}`))}}exports.fourBitColors={black:"[30m",lightBlack:"[90m",red:"[31m",lightRed:"[91m",green:"[32m",lightGreen:"[92m",yellow:"[33m",lightYellow:"[93m",blue:"[34m",lightBlue:"[94m",magenta:"[35m",lightMagenta:"[95m",cyan:"[36m",lightCyan:"[96m",white:"[37m",lightWhite:"[97m"};for(const f in exports.fourBitColors){const g=exports.fourBitColors[f],h=/[0-9][0-9]/.exec(g);if(h){const i=f[0].toUpperCase()+f.slice(1),j=h[0];Reflect.set(exports.fourBitColors,`bg${i}`,g.replace(j,String(parseInt(j)+10)))}}exports.attributes={reset:"[0m",bold:"[1m",dim:"[2m",italic:"[3m",underline:"[4m",blink:"[5m",fastBlink:"[6m",invert:"[7m",hidden:"[8m",strikethrough:"[9m",boldOff:"[21m",doubleUnderline:"[21m",boldOrDimOff:"[22m",italicOff:"[23m",underlineOff:"[24m",blinkOff:"[25m",invertOff:"[26m",hiddenOff:"[27m",strikethroughOff:"[28m"},exports.functions={keyword(e){e=exports.styles[e];if(e)return e;util_1.crayonError("Invalid keyword given in keyword function")},ansi3(e,r){return("number"!=typeof e||7<e||e<0)&&util_1.crayonError("Invalid usage of ansi3 function, syntax: 0-7"),exports.colorSupport.threeBitColor?`\x1b[${r?40:30+util_1.clamp(e,0,7)}m`:""},ansi4(e,r){return("number"!=typeof e||15<e||e<0)&&util_1.crayonError("Invalid usage of ansi4 function, syntax: 0-15"),exports.colorSupport.fourBitColor?`\x1b[${util_1.clamp(e,0,15)+(r?10:0)+(7<e?82:30)}m`:exports.functions.ansi3(conversions_1.ansi4ToAnsi3(e),r)},ansi8(e,r){return("number"!=typeof e||255<e||e<0)&&util_1.crayonError("Invalid usage of ansi8 function, syntax: 0-255"),exports.colorSupport.highColor?`\x1b[${r?48:38};5;${util_1.clamp(e,0,255)}m`:exports.functions.ansi4(conversions_1.ansi8ToAnsi4(e),r)},rgb(e,r,o,m){return("number"!=typeof e||"number"!=typeof r||"number"!=typeof o||255<e||e<0||255<r||r<0||255<o||o<0)&&util_1.crayonError("Invalid usage of rgb function, syntax: r: 0-255, g: 0-255, b: 0-255"),exports.colorSupport.trueColor?`\x1b[${m?48:38};2;${e};${r};${o}m`:exports.functions.ansi8(conversions_1.rgbToAnsi8(e,r,o),m)},hsl(e,r,o,m){("number"!=typeof e||"number"!=typeof r||"number"!=typeof o||360<e||e<0||100<r||r<0||100<o||o<0)&&util_1.crayonError("Incorrect usage of hsl function, syntax: h: 0-360, s: 0-100, l: 0-100");o=conversions_1.hslToRgb(e,r,o);return exports.colorSupport.trueColor?exports.functions.rgb(...o,m):exports.functions.ansi8(conversions_1.rgbToAnsi8(...o),m)},hex(e,r,o){if(/#[0-F]{6}/.test(e)){const m=(e=e.slice(1)).match(/.{2}/g);e=m.map(e=>parseInt(e,16));return r?exports.functions.ansi8(conversions_1.rgbToAnsi8(...e),o):exports.functions.rgb(...e,o)}return util_1.crayonError('Incorrect usage of hex function, syntax: "#[0-F]{6}"'),""},bgHex(e,r){return exports.functions.hex(e,r,!0)}},exports.styles={},Object.assign(exports.styles,exports.attributes,exports.fourBitColors,exports.colorKeywords);